<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Eki.Lab Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Eki.Lab Blog Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-124520099-9","auto"),ga("set","anonymizeIp",!0),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script><title data-react-helmet="true">Building a datalake - Part 2 - Smart storage &amp; computing strategies for better usability and usefulness | Eki.Lab</title><meta data-react-helmet="true" property="og:title" content="Building a datalake - Part 2 - Smart storage &amp; computing strategies for better usability and usefulness | Eki.Lab"><meta data-react-helmet="true" name="description" content="For this second part of datalake building, we’ll go deeper into the journey of data, more specifically expand on storage and compute strategies."><meta data-react-helmet="true" property="og:description" content="For this second part of datalake building, we’ll go deeper into the journey of data, more specifically expand on storage and compute strategies."><meta data-react-helmet="true" property="og:image" content="http://ekimetrics.github.io/img/10-cubecube03.jpg"><meta data-react-helmet="true" name="twitter:image" content="http://ekimetrics.github.io/img/10-cubecube03.jpg"><meta data-react-helmet="true" name="twitter:image:alt" content="Image for Building a datalake - Part 2 - Smart storage &amp; computing strategies for better usability and usefulness | Eki.Lab"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_tag" content="default"><meta data-react-helmet="true" name="keywords" content="Data Science,EkiLab,Ekimetrics,Eki.Lab,Eki,Machine Learning,Artificial Intelligence,Data Science for business,Datalake,Data Engineering,Lakehouse,Data Architecture,Data Governance,Data Validation,Data Mesh,Azure,AWS,GCP"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.png"><link rel="stylesheet" href="/styles.112324ad.css">
<link rel="preload" href="/styles.d2dd8291.js" as="script">
<link rel="preload" href="/runtime~main.52d977b4.js" as="script">
<link rel="preload" href="/main.3eda553b.js" as="script">
<link rel="preload" href="/1.9e17e969.js" as="script">
<link rel="preload" href="/2.7a3d46a0.js" as="script">
<link rel="preload" href="/161.c7cb18df.js" as="script">
<link rel="preload" href="/01a85c17.017638ae.js" as="script">
<link rel="preload" href="/1be78505.5d6f042f.js" as="script">
<link rel="preload" href="/56ff6114.5c6654f2.js" as="script">
<link rel="preload" href="/6875c492.20e3f618.js" as="script">
<link rel="preload" href="/a6aa9e1f.919fbf15.js" as="script">
<link rel="preload" href="/bc11c333.5f0a91e9.js" as="script">
<link rel="preload" href="/c4f5d8e4.e9b07725.js" as="script">
<link rel="preload" href="/ccc49370.2dabc809.js" as="script">
<link rel="preload" href="/164.76297c62.js" as="script">
<link rel="preload" href="/ece8ad2d.f6b42097.js" as="script">
<link rel="preload" href="/68b0ec2e.a8c48f5c.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><strong class="navbar__title">Eki.Lab</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Blog</a><a class="navbar__item navbar__link" href="/docs/">About us</a><a class="navbar__item navbar__link" href="/resources/">Resources</a><a href="https://ekimetrics.com/fr/carrieres/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Careers</a></div><div class="navbar__items navbar__items--right"><a href="https://ekimetrics.com/fr/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Ekimetrics website</a><a href="mailto:inno@ekimetrics.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Contact us!</a><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><strong class="navbar__title">Eki.Lab</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/blog">Blog</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/">About us</a></li><li class="menu__list-item"><a class="menu__link" href="/resources/">Resources</a></li><li class="menu__list-item"><a href="https://ekimetrics.com/fr/carrieres/" target="_blank" rel="noopener noreferrer" class="menu__link">Careers</a></li><li class="menu__list-item"><a href="https://ekimetrics.com/fr/" target="_blank" rel="noopener noreferrer" class="menu__link">Ekimetrics website</a></li><li class="menu__list-item"><a href="mailto:inno@ekimetrics.com" target="_blank" rel="noopener noreferrer" class="menu__link">Contact us!</a></li></ul></div></div></div></nav><div class="main-wrapper blog-wrapper"><div class="container container-wide margin-vert--lg"><div class="row"><div class="col col--2"></div><main class="col col--8"><article><header><h1 class="margin-bottom--sm blogPostTitle_kDB-">Building a datalake - Part 2 - Smart storage &amp; computing strategies for better usability and usefulness</h1><div class="margin-vert--md"><p>For this second part of datalake building, we’ll go deeper into the journey of data, more specifically expand on storage and compute strategies.</p><time datetime="2023-02-28T00:00:00.000Z" class="blogPostDate_2HVl">February 28, 2023  · 9 min read</time></div><div class="avatar margin-vert--md"><div class="avatar__intro"><h4 class="avatar__name">Written by <a href="mailto:inno@ekimetrics.com" target="_blank" rel="noreferrer noopener">Emilien BOUCAUD</a></h4><small class="avatar__subtitle">Data Engineering &amp; Architecture Consultant</small></div></div><div class="margin-vert--md"><img class="img-blog-header" src="/img/blog/overview_datalake_part_2_v2.png"></div></header><section class="markdown blog-article-custom"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="article-scope"></a>Article Scope<a class="hash-link" href="#article-scope" title="Direct link to heading">#</a></h2><div align="justify"><p>In a previous article - <a href="https://ekimetrics.github.io/blog/2022/02/07/building_datalake_part_1/" target="_blank" rel="noopener noreferrer">Building a datalake - Part 1 - Usable, Useful, Used, or how to avoid dataswamp and empty shell traps | Eki.Lab</a> - we took a look at the foundation architecture used at Ekimetrics when building a datalake. Its focus was to present design elements to ensure your datalake is useful and usable at its core, as well as best practices to avoid falling into the so-called data swamp and empty shell traps.</p><p>For this second part, we’ll go deeper into the journey of data, more specifically expand on storage and compute strategies, and see how the organisation of data and the way it is transformed impact a datalake’s usability &amp; usefuleness.</p></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="introduction"></a>Introduction<a class="hash-link" href="#introduction" title="Direct link to heading">#</a></h2><div align="justify"><p>The overview of data’s journey through a datalake or data platform can be broken down into five steps, represented below from left to right.</p><p><img alt="screenshot-app" src="/assets/images/img1_data_journey-b88b0c7ad94bd8652615a4bdb7ae128a.png"></p><div align="center"> Data’s journey, from source to usage</div><br><p>A data platform is highly versatile in providing technical options the five steps above. Getting your data from one step to the next means applying a strategy for how the data input is stored, how it is processed and how the output is exposed for the next step.</p><p>These strategies will vary depending on the use case and platform, taking business as well as technical constraints in consideration. Designing your datalake’s strategies to be versatile and homogeneous is essential. It allows your data platform to grow fast, in terms of data content as well as use case possibilities. It also ensures that the datalake is under control with a common way of treating data, where its only varying specifities are the entry point (data sources) and output (serving layer). </p><p>At Ekimetrics, we’ve developed versatile strategies that are applicable to most common use cases, easily reproducible. These strategies help build new capabilities and provide a better understanding of your data platform.</p></div><br><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="where-designing-storage--compute-strategies-really-matters"></a>Where designing storage &amp; compute strategies really matters<a class="hash-link" href="#where-designing-storage--compute-strategies-really-matters" title="Direct link to heading">#</a></h2><div align="justify"><p>In most datalake architectures, the data journey’s step where the most impactful design decisions can be made is <em>Data storage and processing</em>. The other steps are more straightforward:</p><ul><li>Data sources are usually out of the architect or data engineer’s control, as they often sit outside of the data platform (e.g. on a third-party server).</li><li>Ingestion is a step for which design questions around data validation &amp; organization processes may be worth considering. We’ve talked about these processes in the first part of our “Building a datalake” articles. As for streaming vs batch, it is only dependent on the source: if the source system is streaming data, a resource to ingest that is necessary ; otherwise, recurrent batch ingestion is the go-to.</li><li>Serving will depend on the target use case, so even if there are important design decisions to make, they will only be impactful in the scope of their use case, not for the whole datalake.</li><li>Usage will most of the time be outside the datalake and depend on the use case. The few design decisions that may be necessary here won’t be as impactful to the datalake’s usability and usefulness either.</li></ul><p>Of course, this is not to say that designing relevant strategies and architecture for these steps doesn’t matter: they must be tailored to the business case and technical constraints.</p><p>On the flipside, the <em>Data storage and processing</em> step is the central piece in the datalake puzzle. It is where storage and compute strategies will be the most impactful. </p><p>What could it look like, then ? Inside this central step, data transits through four zones, from its raw form to fully processed for a particular use case, ready to serve to your businesses. These four zones are detailed below, in between ingestion and serving.</p><p><img alt="screenshot-app" src="/assets/images/img2_data_storage-905c99d1d5a0c6e5421ba02084e2063e.png"></p><div align="center"> Data storage and processing - storage zones</div><br><p>These zones can be found under various names: Landing - Bronze - Silver - Gold, or Temp - Raw - Cleaned - Conformed, etc. The intent is the same, where data becomes more and more usable and business use case oriented with each zone.</p><p>In between each storage zone, organization and transformation processes are applied to organize and extract insights out of data. This is where our storage and computing strategies come in.</p></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="going-from-source-to-raw-storage-strategy"></a>Going from source to raw: storage strategy<a class="hash-link" href="#going-from-source-to-raw-storage-strategy" title="Direct link to heading">#</a></h3><div align="justify"><p>An ingested source will usually be exposed in one of two possible ways: </p><ul><li>Incremental changes, where only what is new or updated is exposed.</li><li>Full datasets, where all of the up-to-date data (or a new timeframe of data) is exposed.</li></ul><p>In these two cases, the ingestion strategy we recommend results in the same outcome. Here the strategy is to historize all received data, adding metadata about its reception date (or validity date) through organization in the storage architecture or in the dataset itself. The RAW storage zone becomes a source of historical knowledge about all data points and their changes through time. Doing this, we’re also able to add a “slowly changing dimension” / “change data capture” aspect to our data, where we can easily find a data point’s values at any moment in time.</p><p><img alt="screenshot-app" src="/assets/images/img3_computing_1-cef3f81042eb0c848b50f0d4c4451404.png"></p><div align="center"> Fig. 1: Computing &amp; storage strategies in between Landing and Raw zones</div><br><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>There are limitations to historizing all received data, notably storage costs: this is where the data’s lifecycle must be discussed. Keeping all older versions of a single dataset may start to become expensive as the data piles up, outweighing the pros if only the latest values are used.</p><p>In this case, a solution can be to keep only the latest values of the source’s data points, or just one version of the source every N periods on top of the latest ones. We can then archive older and unused versions in cold, less costly storage resources. The archived data enters a different lifecycle, where it could be removed at some point in the future if it doesn’t serve any business purpose.</p></div></div><p>The “historize everything” strategy ensures RAW storage is the most useful it can be: use case agnostic, your businesses can use and explore the data at its full potential. It also helps unify the way RAW storage is meant to be read by your later processes, improving usability while allowing for costs optimization without sacrificing the underlying principle.</p></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="going-from-raw-input-to-refined-output-computing-strategy"></a>Going from raw input to refined output: computing strategy<a class="hash-link" href="#going-from-raw-input-to-refined-output-computing-strategy" title="Direct link to heading">#</a></h3><div align="justify"><p>By applying this highly inclusive storage strategy for our RAW storage, we’re then able to fetch the necessary data for our business cases, whether it’s using the full history of a source, its latest version or the latest changes only.</p><p>The most common computing strategy will be to generate an up-to-date view of the data: at the time of computing, what are the insights’ state ? We’re also able to use older data to track changes and generate insights from these.</p><p>Refined data can then be exposed in two ways, acting as the source for another system: </p><ul><li>Exposing the full dataset, where all data is up-to-date</li><li>Exposing incremental changes, where only what is new or updated is sent to the serving layer</li></ul><p><img alt="screenshot-app" src="/assets/images/img4_computing_2-dcc7a76dc859f9bae73bb079498fd3eb.png"></p><div align="center"> Fig. 2: computing and storage strategies in between Raw, Trusted and Refined zones</div><br><p>For some use cases, you can generate “frozen in time” views of the data, only updating the current timeframe’s view. For instance, we could update the current month’s exposed insights each day, then stop updating it at the end of the month, writing a new one for the next month’s computed insights, and so on.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>Historizing our transformations and results is useful for debugging and business exploration, but iterations may start to pile up, so defining a lifecycle for Trusted (TRD) and Refined (RFD) storage is important as well: do our technical processes or business use cases need all the iterations history stored in trusted TRD ? Can our business use cases work with a simplification of RFD storage, similar to the Delta historization for RAW zone in figure 1 ? </p></div></div><p>You may have noticed, our exposed Refined storage looks strangely similar to what we had in the data source: we’re exposing either the full up-to-date version of our insights, or just updates and new ones, just like our sources. The datalake is now a source for your business’ use cases, so it makes sense that it would be able to expose data in a similar way.</p><p>The “up-to-date view” strategy is highly useful for most use cases, and through smart use of historization, still allows for your businesses to get insights on the data’s evolution through time. It also ensures versatility in making your datalake a usable source for other systems when exposing data.</p><p>From there, the serving layer can leverage this source in a wide range of solutions, be it a database, reporting, CRM, AI models, etc. </p></div><br><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="conclusion"></a>Conclusion<a class="hash-link" href="#conclusion" title="Direct link to heading">#</a></h2><div align="justify">In essence, storage &amp; compute strategies can be sumarized in three questions:<ul><li>Why are these strategies necessary: to ensure versatility for businesses and technical processes, all the while improving usability.</li><li>How do they do that: by capturing and organizing data’s history efficiently, unifying the way we look at data while allowing for versatility in its usage.</li><li>What they mean: a unified, highly useful and usable storage, and computing that help the datalake become the source for a wide range of systems and use cases.</li></ul><p>As data engineers and architects, we’re always looking for ways to improve our data products. In the context of building a datalake, this means finding ways to make data easy to find, explain and extract insights from. The strategies we’ve talked are key answers to these challenges ; as we use them to grow data platforms and apply them to new use cases, these storage &amp; compute strategies have proved themselves to be highly useful for other data challenges, providing new capabilities and solutions for our clients.</p></div></section><footer class="row margin-vert--lg"><div class="col"><strong>Tags:</strong><a class="margin-horiz--sm" href="/blog/tags/datalake">Datalake</a><a class="margin-horiz--sm" href="/blog/tags/data-engineering">Data Engineering</a><a class="margin-horiz--sm" href="/blog/tags/architecture">Architecture</a><a class="margin-horiz--sm" href="/blog/tags/data-governance">Data Governance</a><a class="margin-horiz--sm" href="/blog/tags/data-mesh">Data Mesh</a></div></footer></article><div class="margin-vert--xl"><nav class="pagination-nav" aria-label="Blog post page navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/blog/2023/02/21/creative_execution_and_marketing_effectiveness_part_V"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">Exploring the links between creative execution and marketing effectiveness - Part V: Key Paths to Success and Common Pitfalls to Avoid »</div></a></div></nav></div></main><div class="col col--2"><div class="tableOfContents_2xL- thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#article-scope" class="table-of-contents__link">Article Scope</a></li><li><a href="#introduction" class="table-of-contents__link">Introduction</a></li><li><a href="#where-designing-storage--compute-strategies-really-matters" class="table-of-contents__link">Where designing storage &amp; compute strategies really matters</a><ul><li><a href="#going-from-source-to-raw-storage-strategy" class="table-of-contents__link">Going from source to raw: storage strategy</a></li><li><a href="#going-from-raw-input-to-refined-output-computing-strategy" class="table-of-contents__link">Going from raw input to refined output: computing strategy</a></li></ul></li><li><a href="#conclusion" class="table-of-contents__link">Conclusion</a></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">About us</h4><ul class="footer__items"><li class="footer__item"><a href="https://ekimetrics.com/who-we-are/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Who we are ?</a></li><li class="footer__item"><a href="https://ekimetrics.com/our-team/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Our team</a></li><li class="footer__item"><a href="https://ekimetrics.us13.list-manage.com/subscribe?u=85b8ce42caa0a733e98233bc4&amp;id=6355d0a6f9" target="_blank" rel="noopener noreferrer" class="footer__link-item">Subscribe to our newsletter</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Find us</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/ekimetrics" target="_blank" rel="noopener noreferrer" class="footer__link-item">Github</a></li><li class="footer__item"><a href="https://ekimetrics.com/careers/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Careers</a></li><li class="footer__item"><a href="https://www.welcometothejungle.com/fr/companies/ekimetrics" target="_blank" rel="noopener noreferrer" class="footer__link-item">Eki on Welcome to the jungle</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Contact</h4><ul class="footer__items"><li class="footer__item"><a href="mailto:inno@ekimetrics.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Get in touch with our teams</a></li></ul></div></div><div class="footer__bottom text--center"></div></div></footer></div>
<script src="/styles.d2dd8291.js"></script>
<script src="/runtime~main.52d977b4.js"></script>
<script src="/main.3eda553b.js"></script>
<script src="/1.9e17e969.js"></script>
<script src="/2.7a3d46a0.js"></script>
<script src="/161.c7cb18df.js"></script>
<script src="/01a85c17.017638ae.js"></script>
<script src="/1be78505.5d6f042f.js"></script>
<script src="/56ff6114.5c6654f2.js"></script>
<script src="/6875c492.20e3f618.js"></script>
<script src="/a6aa9e1f.919fbf15.js"></script>
<script src="/bc11c333.5f0a91e9.js"></script>
<script src="/c4f5d8e4.e9b07725.js"></script>
<script src="/ccc49370.2dabc809.js"></script>
<script src="/164.76297c62.js"></script>
<script src="/ece8ad2d.f6b42097.js"></script>
<script src="/68b0ec2e.a8c48f5c.js"></script>
</body>
</html>