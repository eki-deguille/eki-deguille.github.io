<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Eki.Lab Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Eki.Lab Blog Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-124520099-9","auto"),ga("set","anonymizeIp",!0),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script><title data-react-helmet="true">Demand Forecasting - Improving Supply Chain operations in uncertain times | Eki.Lab</title><meta data-react-helmet="true" property="og:title" content="Demand Forecasting - Improving Supply Chain operations in uncertain times | Eki.Lab"><meta data-react-helmet="true" name="description" content="Learn in this article how we industrialized a solution for warehouse demand forecasting to help Operations managers better allocate resources for more than 20.000 referenced products"><meta data-react-helmet="true" property="og:description" content="Learn in this article how we industrialized a solution for warehouse demand forecasting to help Operations managers better allocate resources for more than 20.000 referenced products"><meta data-react-helmet="true" property="og:image" content="http://ekimetrics.github.io/img/10-cubecube03.jpg"><meta data-react-helmet="true" name="twitter:image" content="http://ekimetrics.github.io/img/10-cubecube03.jpg"><meta data-react-helmet="true" name="twitter:image:alt" content="Image for Demand Forecasting - Improving Supply Chain operations in uncertain times | Eki.Lab"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_tag" content="default"><meta data-react-helmet="true" name="keywords" content="Data Science,EkiLab,Ekimetrics,Eki.Lab,Eki,Machine Learning,Artificial Intelligence,Supply Chain,Streamlit,Demand Forecasting,LightGBM,Data Science for business"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.png"><link rel="stylesheet" href="/styles.d3328ef8.css">
<link rel="preload" href="/styles.5407c555.js" as="script">
<link rel="preload" href="/runtime~main.ff6eef59.js" as="script">
<link rel="preload" href="/main.fcd45dd2.js" as="script">
<link rel="preload" href="/1.875d3cde.js" as="script">
<link rel="preload" href="/2.af644350.js" as="script">
<link rel="preload" href="/149.2c716aa8.js" as="script">
<link rel="preload" href="/01a85c17.7c08cc79.js" as="script">
<link rel="preload" href="/1be78505.20be77f1.js" as="script">
<link rel="preload" href="/6442c0a2.75785b56.js" as="script">
<link rel="preload" href="/6875c492.c2b43642.js" as="script">
<link rel="preload" href="/a6aa9e1f.0d8c70db.js" as="script">
<link rel="preload" href="/bb9d1367.92e6e831.js" as="script">
<link rel="preload" href="/ccc49370.92027c48.js" as="script">
<link rel="preload" href="/db8a5f2c.6b93f0c2.js" as="script">
<link rel="preload" href="/152.9ae7ab18.js" as="script">
<link rel="preload" href="/ece8ad2d.91570a2f.js" as="script">
<link rel="preload" href="/c4f5d8e4.564311d1.js" as="script">
<link rel="preload" href="/9fdeda84.86720da6.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><strong class="navbar__title">Eki.Lab</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Blog</a><a class="navbar__item navbar__link" href="/trainings/">Trainings</a><a class="navbar__item navbar__link" href="/docs/">Best practices</a><a class="navbar__item navbar__link" href="/hacks/">Hackathons</a><a class="navbar__item navbar__link" href="/opensource/">Open Source</a></div><div class="navbar__items navbar__items--right"><a href="https://ekimetrics.com/fr/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Ekimetrics website</a><a href="mailto:inno@ekimetrics.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Contact us!</a><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><strong class="navbar__title">Eki.Lab</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/blog">Blog</a></li><li class="menu__list-item"><a class="menu__link" href="/trainings/">Trainings</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/">Best practices</a></li><li class="menu__list-item"><a class="menu__link" href="/hacks/">Hackathons</a></li><li class="menu__list-item"><a class="menu__link" href="/opensource/">Open Source</a></li><li class="menu__list-item"><a href="https://ekimetrics.com/fr/" target="_blank" rel="noopener noreferrer" class="menu__link">Ekimetrics website</a></li><li class="menu__list-item"><a href="mailto:inno@ekimetrics.com" target="_blank" rel="noopener noreferrer" class="menu__link">Contact us!</a></li></ul></div></div></div></nav><div class="main-wrapper blog-wrapper"><div class="container container-wide margin-vert--lg"><div class="row"><div class="col col--2"></div><main class="col col--8"><article><header><h1 class="margin-bottom--sm blogPostTitle_kDB-">Demand Forecasting - Improving Supply Chain operations in uncertain times</h1><div class="margin-vert--md"><p>Learn in this article how we industrialized a solution for warehouse demand forecasting to help Operations managers better allocate resources for more than 20.000 referenced products</p><time datetime="2022-02-22T00:00:00.000Z" class="blogPostDate_2HVl">February 22, 2022  · 8 min read</time></div><div class="avatar margin-vert--md"><div class="avatar__intro"><h4 class="avatar__name">Written by <a href="mailto:inno@ekimetrics.com" target="_blank" rel="noreferrer noopener">Alexis Cruveiller</a></h4><small class="avatar__subtitle"></small></div></div><div class="margin-vert--md"><img class="img-blog-header" src="/img/blog/supply_warehouse.png"></div></header><section class="markdown blog-article-custom"><p>Demand forecasting has become a trendy topic since the COVID pandemic. It has challenged companies&#x27; Supply Chain operations and highlighted that most companies could improve their supply chain management. Therefore, generating demand for enhanced forecasting capabilities.</p><p>In 2021, we had the opportunity to work with a French pioneer in manufacturing on this topic. We had to industrialize a solution for warehouse demand forecasting for more than 20,000 referenced products to improve overall Supply Chain performance. At the time, the existing solution was deprecated and not handling correctly erratic sales. </p><p>Therefore, we had to create a new, more robust algorithm to help Operational Managers better allocate resources. This latter solution enabled a 60% accuracy improvement and was integrated into Operational Managers processes for decision making.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="an-important-asset-for-supply-chain-transformation"></a>An important asset for Supply Chain transformation<a class="hash-link" href="#an-important-asset-for-supply-chain-transformation" title="Direct link to heading">#</a></h2><p>Demand forecasting has an impact on different levers:</p><ul><li><p><em>Stock Management</em>: forecasting can drastically improve Inventory Management. Underproducing means losing revenue opportunities, whilst overproducing means selling your products cheaper or facing additional storage costs. Furthermore, with the return of activity after the first lockdown, suppliers are now bearing the brunt of building sites recovery, causing delays and creating supply instability.</p></li><li><p><em>Resource allocation</em>: defining the best number of weekly working hours is not an easy task for operational managers, and anticipation is key to achieving optimal throughput.</p></li><li><p><em>Product strategy</em>: demand forecasting also supports better handling of specific trends and product lifecycle. Hence, it helps warehouses anticipate and meet high demands, detect declined products and help marketing teams better understand customers’ needs.</p></li></ul><p>Most importantly, Demand Forecasting has not become a hot topic because of the pandemic. Nevertheless, it brought to light the need of transforming Supply Chains and adapt to unexpected events. Indeed, global warming is increasing the frequency of natural disasters, which will test Supply Chains resilience (<em>have you heard of our AI4S offer?</em>).</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="how-to-build-demand-forecasting-tool"></a>How to build Demand Forecasting tool<a class="hash-link" href="#how-to-build-demand-forecasting-tool" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="what-are-we-trying-to-solve"></a>What are we trying to solve?<a class="hash-link" href="#what-are-we-trying-to-solve" title="Direct link to heading">#</a></h3><p>Framing the problem is key to ensuring Data Scientists go in the right direction. When discussing with Supply Chain managers, we understood they wanted to reduce their costs. Thus, improving resource allocation was the best lever to achieve their need. Clearly stating the business need allowed us to understand the problem and impacted the solution implementation.</p><p><img alt="Business Problem" src="/assets/images/img1_v2-fa995a6196770755daac31f688954430.png"></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="build-and-assess-model"></a>Build and assess model<a class="hash-link" href="#build-and-assess-model" title="Direct link to heading">#</a></h3><p>Because of the high number of products and their associated nomenclature, we used a decision tree algorithm (LightGBM). The business required a reliable mid-term forecasting tool within a short time lap and with limited team size, justifying the choice of a well-known and high-performance algorithm. Our solution is a 3-week forecasting tool with daily updates for all referenced products.</p><p>The ML pipeline we have built for this project is similar to many existing ones. Therefore, we will focus on how the business problem framed our solution. Still, this project was an opportunity for us to use <a href="https://kedro.readthedocs.io/en/stable/index.html" target="_blank" rel="noopener noreferrer">Kedro</a>, which enabled Data Science teams to set up their ML data pipelines. Kedro had the advantage of visualizing your pipeline and structuring our code to ensure maintainability and reproducibility.</p><p><img alt="Kedro Pipeline" src="/assets/images/kedro_2-dd195cb1648e4b21ef03025f838dec25.png"></p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="modelling-target"></a>Modelling target<a class="hash-link" href="#modelling-target" title="Direct link to heading">#</a></h4><p>We want to optimize warehouse working hours to ensure clients satisfaction by delivering stores on time.</p><p>What requires the most operational effort? Our client uses single order picking methods - meaning that pickers work on one order at a time. Thus, it is more time-consuming for a picker to prepare two orders of the same product rather than picking two times the product for the same order. Consequently, we focused on predicting the number of orders rather than the quantity ordered.</p><p>NB: depending on how your supply chain operates, the modelling output would differ.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="modelling-granularity"></a>Modelling granularity<a class="hash-link" href="#modelling-granularity" title="Direct link to heading">#</a></h4><p>Our client had a complex product hierarchy, meaning products can be aggregated at different levels. Demand forecasting at a product level gives higher flexibility when used on various business use cases, albeit not being the optimal solution for each one. Therefore, we aggregated ordered products at a higher granularity, to find the best balance between modelling accuracy and business need.</p><p>Working at a product level when having more than 20,000 products can be painful:</p><ul><li><p>it means working with sparse time series (which isn’t trivial when using decision trees)</p></li><li><p>manufacturing companies often deal with products turnover (because products are frequently improved), meaning you may lose the thread of which product is getting improved.</p></li></ul><p>Therefore, to optimize resource allocation, it was relevant to build a forecasting tool at a product category level, to combine similar products and avoid dealing with product’s turnover. Analyzing sparsity at different granularities also helped us define the best modelling level.</p><p><img alt="Histogram" src="/assets/images/img3-4c20db5d27cd65a1dfd1a1d6e72e841a.png"></p><div align="center"> Distribution of products&#x27; sparsity (e.g. percentage of zeroes in orders). It is clear that most products have more than 90% of zeroes.</div><br><p>Important learnings here were:</p><ol><li>Sparse time series are hard to predict</li><li><strong>It is best to go for a solution where the unit (time x product x localization) of forecasting matches the unit of decision making</strong></li></ol><p><img alt="Predictions" src="/assets/images/img4-e049c7e24e00a60d493aa7890847c7c2.png"></p><div align="center"> We see how the coronavirus outbreak impacted the activity of our client during the first containment. Predicting this period is pretentious, but how can it help us reduce uncertainty in the future?</div><br><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="modelling-loss-function"></a>Modelling loss function<a class="hash-link" href="#modelling-loss-function" title="Direct link to heading">#</a></h4><p>Modelling errors assess algorithms performance and help choose the model we will industrialize to better impact operations. However, when deploying a solution, we want to measure an error that reflects the current problem. Demand forecasting is not exclusively about being accurate on future demands but also about improving operations. Therefore, customizing errors metrics is a key part of machine learning development, allowing us to define the right balance between product demand (model accuracy) and product average preparation time. (focus on products with high preparation time).</p><p>We implemented the Weighted Root Mean Squared Scaled Error, using product average revenues in the last 6 months and product average preparation time.</p><p><img alt="Prep Time" src="/assets/images/table_2_v2-a76fe9d47f686003856484e216f304d2.png"></p><div align="center"> Product B weekly preparation time is 400 min vs 200 min for Product A. Thus, higher accuracy on Product B is needed to reflect the operational needs.</div><br><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="evaluate-business-outcome"></a>Evaluate business outcome<a class="hash-link" href="#evaluate-business-outcome" title="Direct link to heading">#</a></h3><p>Because predictions are not always (never) linked to business outcomes, it is important to differentiate outputs (what are the predictions?) from outcomes (how will it impact the business?). This part was not implemented during the project, but we will briefly explain the methodology to give you a flavour on how it could be done.</p><p>Model accuracy is a technical metric, so to quantify our ML model impact on operations we also need to estimate the predicted number of working hours. Comparing the number of predicted working hours with the realized working hours would allow measuring how much the algorithm is reducing costs.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="create-a-sustainable-solution"></a>Create a sustainable solution<a class="hash-link" href="#create-a-sustainable-solution" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="implement-a-web-app"></a>Implement a web app<a class="hash-link" href="#implement-a-web-app" title="Direct link to heading">#</a></h3><p>A core part of our solution was to implement an easy-to-use application for operations managers. It helped them access predictions in real-time, assess model past performance and define the optimal working hours needed. We used Streamlit for its ease of use and ability to create fast and intuitive applications whenever we are short on time. Consequently, we created a usable solution by communicating predictions, demand, and past errors at different granularities.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="add-a-feedback-loop"></a>Add a feedback loop<a class="hash-link" href="#add-a-feedback-loop" title="Direct link to heading">#</a></h3><p>Finally, we created a feedback loop to enable the team to maintain, improve and sustain the solution. This concept is well explained in <em>Prediction Machines: The Simple Economics of Artificial Intelligence</em>, a book about what AI means from an economist perspective. They introduce a great concept they have named the Anatomy of a Task.</p><p><img alt="Anatomy of a Task" src="/assets/images/img5_v3-2cba57b6da74cb303124b1246f9d2b62.png"></p><p>Predictions mainly impact people’s judgement and decisions taken for action. It implies that algorithms are rather helpful for decision-makers than make the actual choice. In our situation, the predictions enable operational managers to take action on the number of pickers needed in the coming weeks. Improving modelling should help these managers be more accurate in their decision process. Giving Data Science teams feedback on how modelling affected outcomes is the added value.</p><p>Consequently, we decided to create a clear feedback process with the operational managers. We made sure we could improve our forecasting model in a business manner rather than a statistical one. Our model not being perfect, the operational team’s feedback on how our predictions are impacting their daily work will help us improve our algorithms and create a sustainable solution.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="concluding-and-food-for-thought"></a>Concluding and food for thought<a class="hash-link" href="#concluding-and-food-for-thought" title="Direct link to heading">#</a></h2><p>New challenges will arise, and data will help supply chains tackle them. Creating a data-driven culture is key to useful and sustainable solutions. Creating state-of-the-art models is great, but a successful data science transformation is about creating impactful projects and delivering value throughout.</p><p>Thanks to this project, we learnt that:</p><ul><li><p>Demand Forecasting is a great entry to improve Supply Chain operations, but the impact will be limited if not embedded in the full Supply Chain environment.</p></li><li><p>Demand forecasting is not about predicting the future, but about how data helps improve communication between teams.</p></li></ul></section><footer class="row margin-vert--lg"><div class="col"><strong>Tags:</strong><a class="margin-horiz--sm" href="/blog/tags/demand-forecasting">Demand Forecasting</a><a class="margin-horiz--sm" href="/blog/tags/supply-chain">Supply Chain</a><a class="margin-horiz--sm" href="/blog/tags/light-gbm">LightGBM</a><a class="margin-horiz--sm" href="/blog/tags/streamlit">Streamlit</a></div></footer></article><div class="margin-vert--xl"><nav class="pagination-nav" aria-label="Blog post page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/blog/2022/02/28/newsletter_Feb-2022"><div class="pagination-nav__sublabel">Newer Post</div><div class="pagination-nav__label">« Newsletter for February 2022</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/blog/2022/02/09/ekimetrics_implements_data_mesh"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">Ekimetrics implements Data Mesh. Here is why, and why you should join us »</div></a></div></nav></div></main><div class="col col--2"><div class="tableOfContents_2xL- thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#an-important-asset-for-supply-chain-transformation" class="table-of-contents__link">An important asset for Supply Chain transformation</a></li><li><a href="#how-to-build-demand-forecasting-tool" class="table-of-contents__link">How to build Demand Forecasting tool</a><ul><li><a href="#what-are-we-trying-to-solve" class="table-of-contents__link">What are we trying to solve?</a></li><li><a href="#build-and-assess-model" class="table-of-contents__link">Build and assess model</a></li><li><a href="#evaluate-business-outcome" class="table-of-contents__link">Evaluate business outcome</a></li></ul></li><li><a href="#create-a-sustainable-solution" class="table-of-contents__link">Create a sustainable solution</a><ul><li><a href="#implement-a-web-app" class="table-of-contents__link">Implement a web app</a></li><li><a href="#add-a-feedback-loop" class="table-of-contents__link">Add a feedback loop</a></li></ul></li><li><a href="#concluding-and-food-for-thought" class="table-of-contents__link">Concluding and food for thought</a></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">About us</h4><ul class="footer__items"><li class="footer__item"><a href="https://ekimetrics.com/who-we-are/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Who we are ?</a></li><li class="footer__item"><a href="https://ekimetrics.com/our-team/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Our team</a></li><li class="footer__item"><a href="https://ekimetrics.us13.list-manage.com/subscribe?u=85b8ce42caa0a733e98233bc4&amp;id=6355d0a6f9" target="_blank" rel="noopener noreferrer" class="footer__link-item">Subscribe to our newsletter</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Find us</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/ekimetrics" target="_blank" rel="noopener noreferrer" class="footer__link-item">Github</a></li><li class="footer__item"><a href="https://ekimetrics.com/careers/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Careers</a></li><li class="footer__item"><a href="https://www.welcometothejungle.com/fr/companies/ekimetrics" target="_blank" rel="noopener noreferrer" class="footer__link-item">Eki on Welcome to the jungle</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Contact</h4><ul class="footer__items"><li class="footer__item"><a href="mailto:inno@ekimetrics.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Get in touch with our teams</a></li></ul></div></div><div class="footer__bottom text--center"></div></div></footer></div>
<script src="/styles.5407c555.js"></script>
<script src="/runtime~main.ff6eef59.js"></script>
<script src="/main.fcd45dd2.js"></script>
<script src="/1.875d3cde.js"></script>
<script src="/2.af644350.js"></script>
<script src="/149.2c716aa8.js"></script>
<script src="/01a85c17.7c08cc79.js"></script>
<script src="/1be78505.20be77f1.js"></script>
<script src="/6442c0a2.75785b56.js"></script>
<script src="/6875c492.c2b43642.js"></script>
<script src="/a6aa9e1f.0d8c70db.js"></script>
<script src="/bb9d1367.92e6e831.js"></script>
<script src="/ccc49370.92027c48.js"></script>
<script src="/db8a5f2c.6b93f0c2.js"></script>
<script src="/152.9ae7ab18.js"></script>
<script src="/ece8ad2d.91570a2f.js"></script>
<script src="/c4f5d8e4.564311d1.js"></script>
<script src="/9fdeda84.86720da6.js"></script>
</body>
</html>